<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="icon" type="image/png" href="assets/img/favicon.ico">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

  <title>Light Bootstrap Dashboard by Creative Tim</title>

  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
  <meta name="viewport" content="width=device-width" />


  <!-- Bootstrap core CSS     -->
  <link href="assets/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Animation library for notifications   -->
  <link href="assets/css/animate.min.css" rel="stylesheet" />

  <!--  Light Bootstrap Table core CSS    -->
  <link href="assets/css/light-bootstrap-dashboard.css?v=1.4.0" rel="stylesheet" />


  <!--  CSS for Demo Purpose, don't include it in your project     -->
  <link href="assets/css/demo.css" rel="stylesheet" />


  <!--     Fonts and icons     -->
  <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
  <link href='http://fonts.googleapis.com/css?family=Roboto:400,700,300' rel='stylesheet' type='text/css'>
  <link href="assets/css/pe-icon-7-stroke.css" rel="stylesheet" />
  <style>
  .tip-button {
    width: 100px;
    height: 40px;
    background-size: 100%;
    cursor: pointer;
    margin-left: inherit;
  }
  .tip-button:hover {
  background-color: inherit;
  }
  .tip-button:active {
background-color: #000000;
  }
  </style>
</head>

<body onload="reward_details()">

  <div class="wrapper">
    <div class="sidebar" data-color="orange" data-image="assets/img/sidebar-5.jpg">

      <!--   you can change the color of the sidebar using: data-color="blue | azure | green | orange | red | purple" -->


      <div class="sidebar-wrapper">
        <div class="logo">
          <a href="dashboard.html" class="simple-text">
            <img class="logo-img" src="assets/img/logo1.png">
            <span class="logo-span">Employee Reward System</span>
          </a>
        </div>

        <ul class="nav">
          <li>
            <a href="dashboard.html">
              <i class="pe-7s-graph"></i>
              <p>Dashboard</p>
            </a>
          </li>
          <li>
            <a href="user1.html">
              <i class="pe-7s-user"></i>
              <p>User Profile</p>
            </a>
          </li>
          <li>
            <a href="table.html">
              <i class="pe-7s-note2"></i>
              <p>Tranasaction List</p>
            </a>
          </li>
          <li>
            <a href="typography.html">
              <i class="pe-7s-news-paper"></i>
              <p>Reward System</p>
            </a>
          </li>
          <li>
            <a href="hr.html">
              <i class="pe-7s-users"></i>
              <p>HR</p>
            </a>
          </li>
          <li>
            <a href="leave_management.html">
              <i class="pe-7s-date"></i>
              <p>Leave Management</p>
            </a>
          </li>
          <li>
            <a href="notifications.html">
              <i class="pe-7s-bell"></i>
              <p>Notifications</p>
            </a>
          </li>
          <li class="active-pro">
            <a href="market.html">
              <i class="pe-7s-shopbag"></i>
              <p>Marketplace</p>
            </a>
          </li>
        </ul>
      </div>
    </div>

    <div class="main-panel">
      <nav class="navbar navbar-default navbar-fixed">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navigation-example-2">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Marketplace</a>
          </div>
          <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav navbar-left">
              <li>
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                  <i class="fa fa-dashboard"></i>
                  <p class="hidden-lg hidden-md">Dashboard</p>
                </a>
              </li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                  <i class="fa fa-globe"></i>
                  <b class="caret hidden-sm hidden-xs"></b>
                  <span class="notification hidden-sm hidden-xs">5</span>
                  <p class="hidden-lg hidden-md">
                    5 Notifications
                    <b class="caret"></b>
                  </p>
                </a>
                <ul class="dropdown-menu">
                  <li>
                    <a href="#">Notification 1</a>
                  </li>
                  <li>
                    <a href="#">Notification 2</a>
                  </li>
                  <li>
                    <a href="#">Notification 3</a>
                  </li>
                  <li>
                    <a href="#">Notification 4</a>
                  </li>
                  <li>
                    <a href="#">Another notification</a>
                  </li>
                </ul>
              </li>
              <li>
                <a href="">
                  <i class="fa fa-search"></i>
                  <p class="hidden-lg hidden-md">Search</p>
                </a>
              </li>
            </ul>

            <ul class="nav navbar-nav navbar-right">
              <li>
                <a href="#">
                  <p>Log out</p>
                </a>
              </li>
              <li class="separator hidden-lg"></li>
            </ul>
          </div>
        </div>
      </nav>


      <div class="content">
		<div id="value_id"></div>
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-12">
              <div class="card">
                <div class="header">
                  <h4 class="title">TNB Marketplace</h4>
                  <p class="category">By Using ETH
                  </p>
                </div>
                <div class="content all-icons">
                  <div class="row">
                    <div class="font-icon-list col-md-3">
                      <div class="font-icon-detail">
                        <img src="assets/img/product1.jpg" class="pe-7s-album">
                        <input type="text" value="Water Bottele">
                        <input type="text" value="Amount = 100TNP Token">
                        <div class="tip-button" id="test" value = "{{resultProvider}}">
                        <button type="button" class="btn  btn-default product-btn">Purchase</button>
                        </div>
                      </div>
                    </div>

                    <div class="font-icon-list col-md-3">
                      <div class="font-icon-detail">
                        <img src="assets/img/product2.jpg" class="pe-7s-album">
                        <input type="text" value="Umbrella">
                        <input type="text" value="Amount = 100TNP Token">
                         <div class="tip-button" id="test" value = "{{resultProvider}}">
                        <button type="button" class="btn  btn-default product-btn">Purchase</button>
                        </div>
                      </div>
                    </div>

                    <div class="font-icon-list col-md-3">
                      <div class="font-icon-detail">
                        <img src="assets/img/product3.jpg" class="pe-7s-album">
                        <input type="text" value="Power Bank">
                        <input type="text" value="Amount = 100TNP Token">
                         <div class="tip-button" id="test" value = "{{resultProvider}}">
                        <button type="button" class="btn tip-button btn-default product-btn">Purchase</button>
                        </div>
                      </div>
                    </div>

                    <div class="font-icon-list col-md-3">
                        <div class="font-icon-detail">
                          <img src="assets/img/product3.jpg" class="pe-7s-album">
                          <input type="text" value="Power Bank">
                          <input type="text" value="Amount = 100TNP Token">
                          <button type="button" class="btn btn-default product-btn">Purchase</button>
                        </div>
                      </div>

                    <div class="font-icon-list col-md-3">
                      <div class="font-icon-detail">
                        <img src="assets/img/product4.jpg" class="pe-7s-album">
                        <input type="text" value="Pen">
                        <input type="text" value="Amount = 100TNP Token">
                         <div class="tip-button" >
                        <button type="button" id="test" onclick="test()" class="btn tip-button btn-default product-btn">Purchase098</button>
                        </div>
                      </div>
                    </div>

                    <div class="font-icon-list col-md-3">
                      <div class="font-icon-detail">
                        <img src="assets/img/product5.jpg" class="pe-7s-album">
                        <input type="text" value="Headset">
                        <input type="text" value="Amount = 100TNP Token">
                         <div class="tip-button" id="test" onclick="test">
                        <button type="button" class="btn tip-button btn-default product-btn">Purchase</button>
                        </div>
                      </div>
                    </div>

                    <div class="font-icon-list col-md-3">
                      <div class="font-icon-detail">
                        <img src="assets/img/product6.jpg" class="pe-7s-album">
                        <input type="text" value="TNB Shirt">
                        <input type="text" value="Amount = 100TNP Token">
                         <div class="tip-button" id="test" value = "{{resultProvider}}">
                        <button type="button" class="btn tip-button btn-default product-btn">Purchase</button>
                        </div>
                      </div>
                    </div>

                    <div class="font-icon-list col-md-3">
                        <div class="font-icon-detail">
                          <img src="assets/img/product3.jpg" class="pe-7s-album">
                          <input type="text" value="Power Bank">
                          <input type="text" value="Amount = 100TNP Token">
                          <button type="button" class="btn btn-default product-btn">Purchase</button>
                        </div>
                      </div>

                  </div>

                  <div class="demo">
                      <ul class="pagination pagination_type2 pagination_type3">
                        <li class="pagination__item"><a href="#0" class="pagination__number pagination__number_active">1</a></li>
                        <li class="pagination__item"><span class="pagination__number">2</span></li>
                        <li class="pagination__item"><a href="#0" class="pagination__number">3</a></li>
                        <li class="pagination__item"><a href="#0" class="pagination__number">4</a></li>
                        <li class="pagination__item"><a href="#0" class="pagination__number">5</a></li>
                        <li class="pagination__item"><a href="#0" class="pagination__number">6</a></li>
                        <li class="pagination__item"><a href="#0" class="pagination__number">7</a></li>
                        <li class="pagination__item"><a href="#0" class="pagination__number">8</a></li>
                        <li class="pagination__item"><a href="#0" class="pagination__number">9</a></li>
                        <li class="pagination__item"><a href="#0" class="pagination__number">10</a></li>
                        <li class="pagination__item"><a href="#0" class="pagination__number"><span class="pagination__control pagination__control_next">next</span>→</a></li>
                      </ul>
                    </div> 



                </div>
              </div>
            </div>

          </div>
        </div>
      </div>

      <footer class="footer">
        <div class="container-fluid">
          <nav class="pull-left">
            <ul>
              <li>
                <a href="#">
                  Home
                </a>
              </li>
              <li>
                <a href="https://www.mytnb.com.my/">
                  Company
                </a>
              </li>
              <li>
                <a href="https://www.mytnb.com.my/">
                  Portfolio
                </a>
              </li>
              <li>
                <a href="http://www.tnb-fitness.com/blog/">
                  Blog
                </a>
              </li>
            </ul>
          </nav>
          <p class="copyright pull-right">
            &copy;
            <script>document.write(new Date().getFullYear())</script>
            <a href="https://www.mytnb.com.my/">TNB portal</a>, for blockchain reward system.
          </p>
        </div>
      </footer>


    </div>
  </div>


</body>


<!--   Core JS Files   -->
<script src="assets/js/jquery.3.2.1.min.js" type="text/javascript"></script>
<script src="assets/js/bootstrap.min.js" type="text/javascript"></script>

<!--  Charts Plugin -->
<script src="assets/js/chartist.min.js"></script>

<!--  Notifications Plugin    -->
<script src="assets/js/bootstrap-notify.js"></script>
<script>

var MY_ADDRESS = '0xED73A0949d4cF7E890363Ffe570650Ec268d4F75'

var tipButton = document.querySelector('.tip-button')

tipButton.addEventListener('click', function() {

  if (typeof web3 === 'undefined') {
    return renderMessage('<div>You need to install <a href=“https://metmask.io“>MetaMask </a> to use this feature.  <a href=“https://metmask.io“>https://metamask.io</a></div>')
  }

  var user_address = web3.eth.accounts[0]

  web3.eth.sendTransaction({
    to: MY_ADDRESS,
    from: user_address,
    value: web3.toWei('1', 'ether'),
  }, function (err, transactionHash) {
    if (err) return renderMessage('There was a problem!: ' + err.message)

    // If you get a transactionHash, you can assume it was sent,
    // or if you want to guarantee it was received, you can poll
    // for that transaction to be mined first.
    renderMessage('Thanks for the generosity!!')
  })
})

function renderMessage (message) {
  var messageEl = document.querySelector('.message')
  messageEl.innerHTML = message
}

</script>
<!--  Google Maps Plugin    -->
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script>

<!-- Light Bootstrap Table Core javascript and methods for Demo purpose -->
<script src="assets/js/light-bootstrap-dashboard.js?v=1.4.0"></script>

<!-- Light Bootstrap Table DEMO methods, don't include it in your project! -->
<script src="assets/js/demo.js"></script>
<script>
function test()
{
      if (typeof web3 !== "undefined") {
      // Use Mist/MetaMask's provider
      window.web3 = new Web3(web3.currentProvider);
    } else {
      console.log("No web3? You should consider trying MetaMask!");
      // fallback - use your fallback strategy (local node / hosted node + in-dapp id mgmt / fail)
      window.web3 = new Web3(
        new Web3.providers.HttpProvider("http://192.168.1.177:8545")
      );
    }
        web3.eth.getAccounts(function(error, accounts) {
      if (!error) {
        web3.eth.sendTransaction({from: accounts[0], to: '0x5d89e4c900f277c6bdc2985025c3db68ce41c7f7', value: '1000000000000'}, function(error, balance) {
          if (!error) {
            console.log(balance);
          } else {
            console.error(error);
          }
        });
      } else {
        console.error(error);
      }
  });
  }
  </script>
  <script>
		function reward_details(){
			var from_address = web3.eth.accounts[0];
			$.getJSON("https://api.etherscan.io/api?module=account&action=balance&address="+from_address+"&tag=latest&apikey=Y5FHVYEZRBH3VHB263GQ3IIIBM1CQRAYWK",function(result){
				$.each(result,function(i,field){
					if (i == "result") {
							var value = field/1000000000000000000 
							var n = value.toFixed(2);
							$("#value_id").append('<p style="margin-left:80%;margin-top:-1%;">TOKEN BALANCE - '+n+'</p>')
					}
					
				});
			});
		}
	</script>

</html>
